{"version":3,"file":"src_app_file-product_file-product_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAED;AAEtD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAe;KAC3B;CACF,CAAC;IAMW,4BAA4B,SAA5B,4BAA4B;CAAG;AAA/B,4BAA4B;IAJxC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACM;AACmB;AAErB;AAEgC;AAEvB;AACa;IAatD,qBAAqB,SAArB,qBAAqB;CAAG;AAAxB,qBAAqB;IAXjC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,+DAAmB;YACnB,uDAAW;YACX,sFAA4B;YAC5B,2EAAgB;SACjB;QACD,YAAY,EAAE,CAAC,+DAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBlC;;AACA;;AACA;;AACA;;AACA;AACA;AACA;AAIA;AACA;IAOaO,eAAe,SAAfA,eAAe;EAuB1BC,YAAoBC,kBAApB,EAAoEC,yBAApE,EACUC,aADV,EACsC;IADlB;IAAgD;IAC1D;IAtBV,0BAAqB;MACnBC,MAAM,EAAE,0BADW;MAEnBC,SAAS,EAAE,oCAFQ;MAGnBC,OAAO,EAAE,+BAHU;MAInBC,WAAW,EAAE;IAJM,CAArB;IAOA,kBAAa,KAAb;IACA,wBAAmB,KAAnB;IACA,kBAAa,IAAb;IAEA,+BAAqD,EAArD;IAKA,gBAAsB,EAAtB;IAOE,KAAKC,MAAL;EACA;;EAEFC,QAAQ;IACN,KAAKR,kBAAL,CAAwBS,uBAAxB,CAAgDC,SAAhD,CAA0DC,IAAI,IAAG;MAC/D,KAAKJ,MAAL;MACA,KAAKK,cAAL,CAAoB,IAApB;MACA,KAAKC,gBAAL,GAAwB,IAAxB;MACA,KAAKC,eAAL,GAAuB,EAAvB;MACA,KAAKA,eAAL,GAAuBH,IAAvB;MACA,KAAKI,mBAAL,GAA2BC,MAAM,CAACC,IAAP,CAAY,KAAKH,eAAL,CAAqB,CAArB,CAAZ,CAA3B;IACD,CAPD;IAQA,KAAKd,kBAAL,CAAwBkB,eAAxB,CAAwCR,SAAxC,CAAkD,MAAK;MACrD,KAAKS,UAAL,GAAkB,KAAlB;MACA,KAAKN,gBAAL,GAAwB,KAAxB;MACA,KAAKO,UAAL,GAAkB,IAAlB;IACD,CAJD;EAKD;;EAEDb,MAAM;IACJ,KAAKc,kBAAL,GAA0B,IAAI5B,qDAAJ,CAAc;MACtC6B,OAAO,EAAE,IAAI9B,uDAAJ,CAAgB,EAAhB,EAAoBE,+DAApB,CAD6B;MAEtC8B,WAAW,EAAE,IAAIhC,uDAAJ,CAAgB,EAAhB,EAAoBE,+DAApB,CAFyB;MAGtC+B,IAAI,EAAE,IAAIjC,uDAAJ,CAAgB,EAAhB,CAHgC;MAItCkC,MAAM,EAAE,IAAIlC,uDAAJ,CAAgB,EAAhB,EAAoBE,+DAApB;IAJ8B,CAAd,CAA1B;EAMD;;EAGKiC,qBAAqB;IAAA;;IAAA;MACzB,MAAMC,IAAI,GAAG,KAAI,CAACP,kBAAL,CAAwBQ,KAArC;MACE,MAAMC,WAAW,GAAuB;QACtCR,OAAO,EAAEM,IAAI,CAACN,OADwB;QAEtCE,WAAW,EAAEI,IAAI,CAACJ,WAFoB;QAGtCC,IAAI,EAAEG,IAAI,CAACH,IAH2B;QAItCC,MAAM,EAAEE,IAAI,CAACF;MAJyB,CAAxC;MAMA,KAAI,CAACK,uBAAL,GAA+B,EAA/B;;MACA,IAAI;QACF,IAAIC,OAAO,GAAG,EAAd;;QACA,KAAI,CAAClB,eAAL,CAAqBmB,OAArB,CAA6BC,CAAC,IAAG;UAC/B,IAAIA,CAAC,CAACJ,WAAW,CAACL,IAAb,CAAD,KAAwBU,SAA5B,EAAuC;YACrCH,OAAO,GAAG,WAAV;UACD,CAFD,MAEO;YACLA,OAAO,GAAGE,CAAC,CAACJ,WAAW,CAACL,IAAb,CAAX;UACD;;UAAA;;UACD,KAAI,CAACM,uBAAL,CAA6BK,IAA7B,CAAkC;YAChCd,OAAO,EAAEY,CAAC,CAACJ,WAAW,CAACR,OAAb,CADsB;YAEhCE,WAAW,EAAEU,CAAC,CAACJ,WAAW,CAACN,WAAb,CAFkB;YAGhCC,IAAI,EAAEO,OAH0B;YAIhCN,MAAM,EAAEQ,CAAC,CAACJ,WAAW,CAACJ,MAAb;UAJuB,CAAlC;QAMD,CAZD;;QAaA,IAAI,OAAO,KAAI,CAACK,uBAAL,CAA6B,CAA7B,EAAgCL,MAAvC,KAAkD,QAAtD,EAAgE;UAC9D,MAAM,KAAI,CAACxB,aAAL,CAAmBmC,cAAnB,CAAkCT,IAAI,CAACF,MAAvC,CAAN;QACD,CAFD,MAEO;UACL,KAAI,CAACY,sBAAL;;UACA,KAAI,CAACxB,eAAL,GAAuB,IAAvB;QACD;MACF,CArBD,CAqBE,OAAOyB,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD;IAhCsB;EAiC1B;;EAEDD,sBAAsB;IAAA;;IACpB,MAAMI,kBAAkB,GAAc,EAAtC;IACA,KAAKX,uBAAL,CAA6BE,OAA7B;MAAA,yMAAqC,WAAMC,CAAN,EAAU;QAC7C,MAAI,CAACJ,WAAL,GAAmB;UACjBN,WAAW,EAAEU,CAAC,CAACV,WADE;UAEjBC,IAAI,EAAES,CAAC,CAACT,IAFS;UAGjBC,MAAM,EAAEQ,CAAC,CAACR;QAHO,CAAnB;QAKA,MAAI,CAACiB,IAAL,GAAY;UACVC,EAAE,EAAEV,CAAC,CAACZ;QADI,CAAZ;QAGAoB,kBAAkB,CAACN,IAAnB,CAAwB;UACtBN,WAAW,EAAE,MAAI,CAACA,WADI;UAEtBa,IAAI,EAAE,MAAI,CAACA;QAFW,CAAxB;MAID,CAbD;;MAAA;QAAA;MAAA;IAAA;IAcA,KAAK1C,yBAAL,CAA+B4C,uBAA/B,CAAuDH,kBAAvD,EAA2EhC,SAA3E,CAAqF,MAAK;MACxF,KAAKoC,mBAAL;IACD,CAFD;EAGD;;EAEDC,WAAW,CAAClB,KAAD,EAAe;IACxB,KAAKT,UAAL,GAAkB,KAAlB;IACA,KAAKP,gBAAL,GAAwB,CAACgB,KAAzB;IACA,KAAKV,UAAL,GAAkBU,KAAlB;EACD;;EAEDjB,cAAc,CAACiB,KAAD,EAAe;IAC3B,KAAKT,UAAL,GAAkB,KAAlB;IACA,KAAKD,UAAL,GAAkB,CAACU,KAAnB;;IACA,IAAI,KAAKhB,gBAAT,EAA2B;MACzB,KAAKb,kBAAL,CAAwBgD,uBAAxB,CAAgDC,IAAhD;IACD,CAFD,MAEO;MACL,IAAI,CAAC,KAAKnC,eAAV,EAA2B;QACzB,KAAKd,kBAAL,CAAwBgD,uBAAxB,CAAgDC,IAAhD;MACD,CAFD,MAEO;QACL,KAAKpC,gBAAL,GAAwBgB,KAAxB;MACD;IACF;EACF;;EAEKiB,mBAAmB;IAAA;;IAAA;MACvB,MAAI,CAAC9C,kBAAL,CAAwBkD,sBAAxB,CAA+CD,IAA/C;;MACAT,OAAO,CAACC,GAAR,CAAY,SAAZ;MACA,MAAI,CAAC5B,gBAAL,GAAwB,KAAxB;MACA,MAAI,CAACM,UAAL,GAAkB,KAAlB;MACA,MAAI,CAACC,UAAL,GAAkB,IAAlB;IALuB;EAMxB;;AAxIyB;;;QAZnBzB,mGAAkBA;;QAIlBC,2GAAyBA;;QACzBC,4EAAaA;;;AAOTC,eAAe,sDAL3BP,wDAAS,CAAC;EACT4D,QAAQ,EAAE,kBADD;EAETC,UAAAA,+DAFS;;AAAA,CAAD,CAKkB,GAAftD,eAAe,CAAf","sources":["./src/app/file-product/file-product-routing.module.ts","./src/app/file-product/file-product.module.ts","./src/app/file-product/file-product.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FileProductPage } from './file-product.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FileProductPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FileProductPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FileProductPageRoutingModule } from './file-product-routing.module';\n\nimport { FileProductPage } from './file-product.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    FileProductPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [FileProductPage]\n})\nexport class FileProductPageModule {}\n","/* eslint-disable @typescript-eslint/no-shadow */\n/* eslint-disable @typescript-eslint/no-unused-expressions */\n/* eslint-disable @typescript-eslint/member-ordering */\n/* eslint-disable @typescript-eslint/ban-types */\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { FileProductService } from '../services/file-product-service/file-product.service';\nimport { FileProductBarcode } from '../entities/file-product/file-product-barcode';\nimport { FileProduct } from '../entities/file-product/file-product';\nimport { Codes } from '../entities/codes/codes';\nimport { FileProductRequestService } from '../controller/fileProduct/file-product-request.service';\nimport { AlertsService } from '../components/alerts/alerts.service';\n\n@Component({\n  selector: 'app-file-product',\n  templateUrl: './file-product.page.html',\n  styleUrls: ['./file-product.page.scss'],\n})\nexport class FileProductPage implements OnInit {\n\n  customAlertOptions = {\n    header: 'Configuraci√≥n de archivo',\n    subHeader: 'Configure los archivos de producto',\n    message: 'Seleccione el correspondiente',\n    translucent: true,\n  };\n\n  isOpenForm = false;\n  isOpenAsignation = false;\n  isOpenList = true;\n  fileProductList: Array<{}>;\n  formatedFileProductList: Array<FileProductBarcode> = [];\n  fileProductNameKeys: Array<string>;\n\n  newValueAsignation!: FormGroup;\n\n  codeList: Array<{}> = [];\n  fileProduct: FileProduct;\n  code: Codes;\n\n\n  constructor(private fileProductService: FileProductService, private fileProductRequestService: FileProductRequestService,\n    private alertsService: AlertsService) {\n    this.formul();\n   }\n\n  ngOnInit() {\n    this.fileProductService.triggerFileProductArray.subscribe(data => {\n      this.formul();\n      this.openAsignation(true);\n      this.isOpenAsignation = true;\n      this.fileProductList = [];\n      this.fileProductList = data;\n      this.fileProductNameKeys = Object.keys(this.fileProductList[0]);\n    });\n    this.fileProductService.triggerOpenList.subscribe(() => {\n      this.isOpenForm = false;\n      this.isOpenAsignation = false;\n      this.isOpenList = true;\n    });\n  }\n\n  formul() {\n    this.newValueAsignation = new FormGroup({\n      barcode: new FormControl('', Validators.required),\n      productName: new FormControl('', Validators.required),\n      mark: new FormControl(''),\n      amount: new FormControl('', Validators.required)\n    });\n  }\n\n\n  async addNewValueAsignation() {\n    const form = this.newValueAsignation.value;\n      const fileProduct: FileProductBarcode = {\n        barcode: form.barcode,\n        productName: form.productName,\n        mark: form.mark,\n        amount: form.amount\n      };\n      this.formatedFileProductList = [];\n      try {\n        let theMark = '';\n        this.fileProductList.forEach(i => {\n          if (i[fileProduct.mark] === undefined) {\n            theMark = 'Sin marca';\n          } else {\n            theMark = i[fileProduct.mark];\n          };\n          this.formatedFileProductList.push({//\n            barcode: i[fileProduct.barcode],\n            productName: i[fileProduct.productName],\n            mark: theMark,\n            amount: i[fileProduct.amount]\n          });\n        });\n        if (typeof this.formatedFileProductList[0].amount !== 'number') {\n          await this.alertsService.amountNoNumber(form.amount);\n        } else {\n          this.addFileProductWithCode();\n          this.fileProductList = null;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n  }\n\n  addFileProductWithCode(){\n    const listFileProdutList: Array<{}> = [];\n    this.formatedFileProductList.forEach(async i => {\n      this.fileProduct = {\n        productName: i.productName,\n        mark: i.mark,\n        amount: i.amount,\n      };\n      this.code = {\n        id: i.barcode\n      };\n      listFileProdutList.push({\n        fileProduct: this.fileProduct,\n        code: this.code\n      });\n    });\n    this.fileProductRequestService.newFileProductsWithCode(listFileProdutList).subscribe(() => {\n      this.openFileProductList();\n    });\n  }\n\n  openNewFrom(value: boolean) {\n    this.isOpenList = false;\n    this.isOpenAsignation = !value;\n    this.isOpenForm = value;\n  }\n\n  openAsignation(value: boolean) {\n    this.isOpenList = false;\n    this.isOpenForm = !value;\n    if (this.isOpenAsignation) {\n      this.fileProductService.triggerOpenAchiveModule.emit();\n    } else {\n      if (!this.fileProductList) {\n        this.fileProductService.triggerOpenAchiveModule.emit();\n      } else {\n        this.isOpenAsignation = value;\n      }\n    }\n  }\n\n  async openFileProductList(){\n    this.fileProductService.triggerUpdatedFileList.emit();\n    console.log('Despues');\n    this.isOpenAsignation = false;\n    this.isOpenForm = false;\n    this.isOpenList = true;\n  }\n}\n"],"names":["Component","FormControl","FormGroup","Validators","FileProductService","FileProductRequestService","AlertsService","FileProductPage","constructor","fileProductService","fileProductRequestService","alertsService","header","subHeader","message","translucent","formul","ngOnInit","triggerFileProductArray","subscribe","data","openAsignation","isOpenAsignation","fileProductList","fileProductNameKeys","Object","keys","triggerOpenList","isOpenForm","isOpenList","newValueAsignation","barcode","required","productName","mark","amount","addNewValueAsignation","form","value","fileProduct","formatedFileProductList","theMark","forEach","i","undefined","push","amountNoNumber","addFileProductWithCode","error","console","log","listFileProdutList","code","id","newFileProductsWithCode","openFileProductList","openNewFrom","triggerOpenAchiveModule","emit","triggerUpdatedFileList","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}